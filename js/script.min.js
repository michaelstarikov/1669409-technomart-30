const buttonsBuy=document.querySelectorAll(".button-buy"),popupCart=document.querySelector(".modal-cart"),popupCartClose=document.querySelector(".modal-cart-close");for(let e=0;e<buttonsBuy.length;e++)buttonsBuy[e].addEventListener("click",function(){popupCart.classList.add("active-modal")});popupCartClose.addEventListener("click",function(e){e.preventDefault(),popupCart.classList.remove("active-modal")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupCart.classList.contains("active-modal")&&(e.preventDefault(),popupCart.classList.remove("active-modal"))});const buttonLost=document.querySelector(".lost"),popupLogin=document.querySelector(".modal-login"),closePopup=document.querySelector(".modal-close"),form=document.querySelector(".name-form"),username=document.querySelector(".user-field"),email=document.querySelector(".mail-field");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("username")}catch(e){isStorageSupport=!1}buttonLost.addEventListener("click",function(e){e.preventDefault(),popupLogin.classList.add("active-modal"),storage?(username.value=storage,email.focus()):username.focus()}),closePopup.addEventListener("click",function(e){e.preventDefault(),popupLogin.classList.remove("active-modal"),popupLogin.classList.remove("modal-error")}),form.addEventListener("submit",function(e){username.value&&email.value?isStorageSupport&&localStorage.setItem("username",username.value):(e.preventDefault(),popupLogin.classList.remove("modal-error"),popupLogin.offsetWidth=popupLogin.offsetWidth,popupLogin.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupLogin.classList.contains("active-modal")&&(e.preventDefault(),popupLogin.classList.remove("active-modal"),popupLogin.classList.remove("modal-error"))});const mapImage=document.querySelector(".map-image"),mapPopup=document.querySelector(".modal-map"),closeMap=document.querySelector(".map-close");mapImage.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("active-modal")}),closeMap.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("active-modal")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("active-modal")&&(e.preventDefault(),mapPopup.classList.remove("active-modal"))});let service=function(){let e=document.querySelectorAll(".service-button"),o=document.querySelectorAll(".service-slide"),s;function t(){var t;e.forEach(e=>{e.classList.remove("active-service")}),this.classList.add("active-service"),s=this.getAttribute("data-tab-name"),t=s,o.forEach(e=>{e.classList.contains(t)?e.classList.add("active-service"):e.classList.remove("active-service")})}e.forEach(e=>{e.addEventListener("click",t)})};service();const promoSlides=document.querySelectorAll(".slider-item"),buttonBack=document.querySelector(".button-back"),buttonForward=document.querySelector(".button-forward"),sliderTabs=document.querySelectorAll(".slider-tab");let slideIndex=0;function switchToNextSlide(e){document.querySelector(".slide-current").classList.remove("slide-current"),document.querySelector(".current").classList.remove("current"),slideIndex=0<=e?e%promoSlides.length:promoSlides.length-1,promoSlides[slideIndex].classList.add("slide-current"),sliderTabs[slideIndex].classList.add("current")}for(let e=0;e<sliderTabs.length;e++)sliderTabs[e].addEventListener("click",function(e){switchToNextSlide(e.target.dataset.slide)});buttonForward.addEventListener("click",function(){switchToNextSlide(slideIndex+1)}),buttonBack.addEventListener("click",function(){switchToNextSlide(slideIndex-1)});